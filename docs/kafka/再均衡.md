# 再均衡
高可用 伸缩性
但调整过程可能重复消费

## 目标
**消费者**消费分区数量 尽量均衡

## 对象
再均衡 调整 消费者 消费的分区
## 场景
consumer group +- consumer
consumer topic change

## 分区分配策略
消费者 配置partition.assignment.strategy
### 3 种
Round Robin 轮询 partiion consumer 字典序 分配
Range 数量 
Sticky **尽量**保证没宕机的消费原分区

## 再均衡监听器
```java
interface ConsumerRebalanceListener{
    onPartionsRevoked(); // 再均衡开始前 消费者停止读取消息之后
    onPartionsAssigned(); // 重新分配之后，消费者开始读之前
}
```

两个时机分别执行操作避免重复消费
store  offset in db
seek offset from db
