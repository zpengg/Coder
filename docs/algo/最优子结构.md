# 最优子结构
>可以从子问题的最优结果推出更大规模问题的最优结果的问题具有*最优子结构*
最优子结构性质是选择类最优解都具有的性质，即全优一定包含局优
常见的[[动态规划]] 和 [[贪心算法]] 都可以处理最优子结构问题。


### 贪心不满足最优解的例子
比如中国的货币，只看元，有1元2元5元10元20、50、100
如果我要16元，可以拿16个1元，8个2元，但是怎么最少呢？
如果用贪心算，就是我每一次拿那张可能拿的最大的。
比如16，我第一次拿20拿不起，拿10元，OK，剩下6元，再拿个5元，剩下1元
也就是3张 10、5、1。

比如某国的钱币分为 1元3元4元
如果要拿6元钱 怎么拿？贪心的话 先拿4 再拿两个1 一共3张钱
实际最优呢？ 两张3元就够了

作者：one_zheng
链接：https://www.jianshu.com/p/67292f31798d
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

## 对比
[[vs-贪心算法-动态规划]]

## 使用场景
如果问题的最优解包含两个（或更多）子问题的最优解，且子问题多有重叠，我们考虑使用动态规划算法。
典型的状态转移
```java
// 01 背包 只计算各种选择的值
dp[i][j] =  dp[i-1][j] + dp[i-1][j-nums[i-1]]
```


而如果问题经过贪心选择后，**只剩下一个子问题，且具有优化子结构，那么可以使用贪心算法。
典型的状态转移
```java
// 一般会存在 在子问题中求最值 的过程
// 0<=j<=i
dp[i+1]=max(dp[j])+1
```

## 求最值问题
>最优子结构的动态规划问题，一定是让你求最值的（套路）

