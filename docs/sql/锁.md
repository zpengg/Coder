# 锁

[[MyISAM]]支持表锁，不支持行锁
[[InnoDB]]支持表锁和行锁，默认为行锁


## 表级锁
开销小，加锁快，不会出现死锁。
锁定粒度大，发生锁冲突的概率最高，并发量最低
## 行级锁
开销大，加锁慢，会出现死锁。
锁力度小，发生锁冲突的概率小，并发度最高
会死锁

## 页面锁
mysql 没有
开销和加锁时间界于表锁和行锁之间；会出现死锁；锁定粒度界于表锁和行锁之间，并发度一般。


## 读写锁 S X
## 意向锁 IS IX
意向锁 相互兼容
X 
在InnoDB中，锁是逐步获得的，这可能造成多个进程互相等待

## 死锁
[[死锁]]



## 两阶段锁协议
[[两阶段锁协议]]