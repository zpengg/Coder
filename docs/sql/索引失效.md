# 索引失效

1. like 以%开头
，索引无效；当like前缀没有%，后缀有%时，索引有效。

2. or语句 前后没有同时使用索引。 要每个都有才可用
当or左右查询字段只有一个是索引，该索引失效，只有当or左右查询字段均为索引时，才会生效

xxx=1 or bbb =2
3. 组合索引
组合索引，不是使用第一列索引，索引失效。

4. 数据类型出现隐式转化
varchar不加单引号的话可能会自动转换为int型，使索引无效

5. NULL 和 带其他字段的is not null
过于复杂 反正不要乱用
https://www.cnblogs.com/williamjie/p/11192821.html
对于二级索引来说，索引列的值可能为NULL。那对于索引列值为NULL的二级索引记录来说，它们被放在B+树的哪里呢？答案是：放在**B+树的最左边** 

MySQL中决定使不使用某个索引执行查询的依据很简单：就是成本够不够小

执行优化器前，率先访问索引来计算需要扫描的索引记录数量的方式称之为index dive

成本：index dive还是依据统计数据估算，最终要得到一个需要扫描的二级索引记录条数
如果这个条数占整个记录条数的比例特别大，那么就趋向于使用全表扫描执行查询，否则趋向于使用这个索引执行查询

    

6. != 和 <>
7. 如果mysql使用全表扫描要比使用索引快,则不会使用到索引