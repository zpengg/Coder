# 索引

## 索引分类
唯一索引
主键索引
聚集索引
非聚簇索引

hash索引,innodb不支持hash索引,但是有[[自适应哈希索引]],

### 唯一索引
唯一索引是不允许其中任何两行具有相同索引值的索引。

### 主键索引

### 聚集索引
聚集索引 在聚集索引中，表中行的物理顺序与键值的逻辑（索引）顺序相同。一个表只能包含一个聚集索引。

### 非聚集索引
增加查询 换 减少修改 



叶子节点是主键
辅助索引使用主键作为"指针" 而不是使用地址值作为指针的好处是，减少了当出现行移动或者数据页分裂时辅助索引的维护工作

#### 回表
如果需要 索引字段和 主键 外的字段 要经过两次B+树查找
[[回表]]

#### 覆盖索引： 理念
索引包含所有需要查询的字段的值。 性能好

## 前缀索引
模糊查询，有长度 限制
BLOB、TEXT 和 VARCHAR 类型的列，必须使用前缀索引，只索引开始的部分字符。


### 骚操作: 倒序存储
### 骚操作：存hash crc32（）

## 默认值
```
innodb
聚集索引 -> 主键
            ｜
       第一个不包含有NULL值的唯一索引作为主键索引 
            ｜
       内置6字节长的ROWID作为隐含的聚集索引
```
### 自增主键好处
物理存储有序(按聚集索引) 
(B+树) 叶子节点 磁盘分页存储
页面达到装载因子 另开分页存储

[[索引失效]]
[[回表]]