# 段页管理
##  虚拟地址管理方式: 块式管理、段式管理、页式管理、段页管理
### 段式 
base + offset

原理：段选择子和段内偏移量。
问题：碎片，交换效率低

### 页式
原理: 页号 页内偏移。 虚拟页号通过页表转成物理页号
优点：解决了段式的缺点 
缺点：页表大。

#### why big？
多个进程
32位,每个进程有4GB 地址
一个页4kb * 100w页 *4bit = 4MB 存映射：内存 ->地址

### 多级页表
再映射一次 4kb 内存
4kb -> 4Mb -> 4GB


未用到的先不分配
64 位的系统，两级分页肯定不够了，就变成了四级目录
缺点： 转换多次

局部性原理 导致集中使用某些页表，位置邻近
[[TLB]]
## 历史：
intel： 段+页 综合
linux： 抽象成纯页 所有起始地址都是  0 

### Linux 采取的是页式 （intel cpu 段页式）
Linux 系统中的每个段都是从 0 地址开始的整个 4GB 虚拟空间（32 位环境下），也就是所有的段的起始地址都是一样的。这意味着，Linux 系统中的代码，包括操作系统本身的代码和应用程序代码，所面对的地址空间都是线性地址空间（虚拟地址），这种做法相当于屏蔽了处理器中的逻辑地址概念，段只被用于访问控制和内存保护。
