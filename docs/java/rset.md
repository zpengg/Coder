# RSET
用于可达性分析， 跨分区应用
自家region 被外面对象引用的情况 
在数据量不同的时候采用不同的结构。

## 栅栏
栅栏是指在原生代码片段中，当某些语句被执行时，栅栏代码也会被执行。
**G1主要在赋值语句** 中，使用写前栅栏(Pre-Write Barrrier)和写后栅栏(Post-Write Barrrier)

### 假共享（false sharing）
高并发，频繁的写屏障很容易发生虚共享，
假设[[/CPU]]缓存行大小为64字节，64个卡表项将共享同一个缓存行。
一个缓存行将对应64个卡页一共64*512=32KB
**更新卡表的同一个缓存行**，从而造成缓存行的写回、无效化或者同步操作，间接影响程序性能。

### cardtable 卡表： 描述卡页内对象是否修改
但分区里的对象还是要用 [[cardtable]] 来定位
young region -> old card Table -> old obj